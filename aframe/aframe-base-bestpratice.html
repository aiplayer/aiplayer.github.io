<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>最佳实践 | aiplayer</title>
    <meta name="description" content="aiplayer portal">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/assets/css/0.styles.f0b62ee8.css" as="style"><link rel="preload" href="/assets/js/app.db1f5619.js" as="script"><link rel="preload" href="/assets/js/2.136755fd.js" as="script"><link rel="preload" href="/assets/js/20.8bce2b97.js" as="script"><link rel="prefetch" href="/assets/js/10.d8e1a177.js"><link rel="prefetch" href="/assets/js/100.a1569435.js"><link rel="prefetch" href="/assets/js/101.df4254c0.js"><link rel="prefetch" href="/assets/js/102.7238a621.js"><link rel="prefetch" href="/assets/js/103.6066a045.js"><link rel="prefetch" href="/assets/js/104.19e5f9ce.js"><link rel="prefetch" href="/assets/js/105.1da234c6.js"><link rel="prefetch" href="/assets/js/106.205e3402.js"><link rel="prefetch" href="/assets/js/107.175ad760.js"><link rel="prefetch" href="/assets/js/108.a9ac042b.js"><link rel="prefetch" href="/assets/js/109.424d5783.js"><link rel="prefetch" href="/assets/js/11.934355de.js"><link rel="prefetch" href="/assets/js/110.c7bca671.js"><link rel="prefetch" href="/assets/js/111.73c2c60a.js"><link rel="prefetch" href="/assets/js/112.7f5490ea.js"><link rel="prefetch" href="/assets/js/113.14375c6f.js"><link rel="prefetch" href="/assets/js/114.3363197a.js"><link rel="prefetch" href="/assets/js/115.02afb483.js"><link rel="prefetch" href="/assets/js/116.29a7b694.js"><link rel="prefetch" href="/assets/js/117.5be07a33.js"><link rel="prefetch" href="/assets/js/118.0702142c.js"><link rel="prefetch" href="/assets/js/119.6402e457.js"><link rel="prefetch" href="/assets/js/12.c2bc3227.js"><link rel="prefetch" href="/assets/js/120.ac365fc7.js"><link rel="prefetch" href="/assets/js/121.fb021e50.js"><link rel="prefetch" href="/assets/js/122.9fe3b1ea.js"><link rel="prefetch" href="/assets/js/123.27e74ba8.js"><link rel="prefetch" href="/assets/js/124.1d2e32db.js"><link rel="prefetch" href="/assets/js/125.04e7f173.js"><link rel="prefetch" href="/assets/js/126.27d517fd.js"><link rel="prefetch" href="/assets/js/127.64ce51be.js"><link rel="prefetch" href="/assets/js/128.5c40af31.js"><link rel="prefetch" href="/assets/js/129.8e36099a.js"><link rel="prefetch" href="/assets/js/13.30b2fd23.js"><link rel="prefetch" href="/assets/js/130.4404aeed.js"><link rel="prefetch" href="/assets/js/131.9a6be204.js"><link rel="prefetch" href="/assets/js/132.621634ca.js"><link rel="prefetch" href="/assets/js/133.4b393036.js"><link rel="prefetch" href="/assets/js/134.dcc9e5f3.js"><link rel="prefetch" href="/assets/js/135.cdc08eed.js"><link rel="prefetch" href="/assets/js/136.d1361c7f.js"><link rel="prefetch" href="/assets/js/137.70e249cd.js"><link rel="prefetch" href="/assets/js/138.ab5deb19.js"><link rel="prefetch" href="/assets/js/139.11778cf5.js"><link rel="prefetch" href="/assets/js/14.2125223a.js"><link rel="prefetch" href="/assets/js/140.db04184d.js"><link rel="prefetch" href="/assets/js/141.f31f6358.js"><link rel="prefetch" href="/assets/js/142.46e9b5b9.js"><link rel="prefetch" href="/assets/js/143.fa46c1c3.js"><link rel="prefetch" href="/assets/js/144.578e8fe1.js"><link rel="prefetch" href="/assets/js/145.d92b6019.js"><link rel="prefetch" href="/assets/js/146.7959a0f8.js"><link rel="prefetch" href="/assets/js/147.bddc1b3f.js"><link rel="prefetch" href="/assets/js/148.226bfada.js"><link rel="prefetch" href="/assets/js/149.d8549551.js"><link rel="prefetch" href="/assets/js/15.fb8b9ae9.js"><link rel="prefetch" href="/assets/js/150.9e86241e.js"><link rel="prefetch" href="/assets/js/151.796f1274.js"><link rel="prefetch" href="/assets/js/152.d257e8a9.js"><link rel="prefetch" href="/assets/js/153.03854e57.js"><link rel="prefetch" href="/assets/js/154.36494ed7.js"><link rel="prefetch" href="/assets/js/155.a4c0d865.js"><link rel="prefetch" href="/assets/js/156.a5570edb.js"><link rel="prefetch" href="/assets/js/157.d5cfe341.js"><link rel="prefetch" href="/assets/js/16.4840c375.js"><link rel="prefetch" href="/assets/js/17.3db7187c.js"><link rel="prefetch" href="/assets/js/18.3f978365.js"><link rel="prefetch" href="/assets/js/19.0a024717.js"><link rel="prefetch" href="/assets/js/21.eb505a2a.js"><link rel="prefetch" href="/assets/js/22.ad76dfcb.js"><link rel="prefetch" href="/assets/js/23.c086b548.js"><link rel="prefetch" href="/assets/js/24.3fb5d63e.js"><link rel="prefetch" href="/assets/js/25.5595455f.js"><link rel="prefetch" href="/assets/js/26.f94f11ad.js"><link rel="prefetch" href="/assets/js/27.f289b5d4.js"><link rel="prefetch" href="/assets/js/28.6eb0556e.js"><link rel="prefetch" href="/assets/js/29.8defe1c0.js"><link rel="prefetch" href="/assets/js/3.28f81bc4.js"><link rel="prefetch" href="/assets/js/30.8ab8f249.js"><link rel="prefetch" href="/assets/js/31.33b536a9.js"><link rel="prefetch" href="/assets/js/32.7df14067.js"><link rel="prefetch" href="/assets/js/33.fbabe129.js"><link rel="prefetch" href="/assets/js/34.53ff114a.js"><link rel="prefetch" href="/assets/js/35.f2c39ebd.js"><link rel="prefetch" href="/assets/js/36.467f6b09.js"><link rel="prefetch" href="/assets/js/37.9e1dd23b.js"><link rel="prefetch" href="/assets/js/38.068c85f4.js"><link rel="prefetch" href="/assets/js/39.b1e0fefa.js"><link rel="prefetch" href="/assets/js/4.8934782b.js"><link rel="prefetch" href="/assets/js/40.bb170fba.js"><link rel="prefetch" href="/assets/js/41.f3ae6a10.js"><link rel="prefetch" href="/assets/js/42.bb54411b.js"><link rel="prefetch" href="/assets/js/43.3c863cb9.js"><link rel="prefetch" href="/assets/js/44.7060ca63.js"><link rel="prefetch" href="/assets/js/45.f3047d76.js"><link rel="prefetch" href="/assets/js/46.9c09c0ab.js"><link rel="prefetch" href="/assets/js/47.5202a7c1.js"><link rel="prefetch" href="/assets/js/48.6e8df322.js"><link rel="prefetch" href="/assets/js/49.0cc3d23d.js"><link rel="prefetch" href="/assets/js/5.a0353814.js"><link rel="prefetch" href="/assets/js/50.3b307fd5.js"><link rel="prefetch" href="/assets/js/51.4fbbe6c7.js"><link rel="prefetch" href="/assets/js/52.331937fe.js"><link rel="prefetch" href="/assets/js/53.dc7c275c.js"><link rel="prefetch" href="/assets/js/54.4f85d82e.js"><link rel="prefetch" href="/assets/js/55.1643757b.js"><link rel="prefetch" href="/assets/js/56.ef32a88b.js"><link rel="prefetch" href="/assets/js/57.c7121932.js"><link rel="prefetch" href="/assets/js/58.16441501.js"><link rel="prefetch" href="/assets/js/59.4e5591f5.js"><link rel="prefetch" href="/assets/js/6.fa571ebd.js"><link rel="prefetch" href="/assets/js/60.967020e8.js"><link rel="prefetch" href="/assets/js/61.71d79f42.js"><link rel="prefetch" href="/assets/js/62.88671447.js"><link rel="prefetch" href="/assets/js/63.7f40e91d.js"><link rel="prefetch" href="/assets/js/64.ef23913e.js"><link rel="prefetch" href="/assets/js/65.63a29bbb.js"><link rel="prefetch" href="/assets/js/66.9f830dea.js"><link rel="prefetch" href="/assets/js/67.0783e6f9.js"><link rel="prefetch" href="/assets/js/68.edb28c91.js"><link rel="prefetch" href="/assets/js/69.58a85f29.js"><link rel="prefetch" href="/assets/js/7.b690ca65.js"><link rel="prefetch" href="/assets/js/70.58d4adb6.js"><link rel="prefetch" href="/assets/js/71.0e2e4dba.js"><link rel="prefetch" href="/assets/js/72.ee7e2979.js"><link rel="prefetch" href="/assets/js/73.935f8492.js"><link rel="prefetch" href="/assets/js/74.d69c06e4.js"><link rel="prefetch" href="/assets/js/75.8afa1dc5.js"><link rel="prefetch" href="/assets/js/76.48c0a6d0.js"><link rel="prefetch" href="/assets/js/77.5e0afc33.js"><link rel="prefetch" href="/assets/js/78.9cb7dc28.js"><link rel="prefetch" href="/assets/js/79.83ec5e2e.js"><link rel="prefetch" href="/assets/js/8.f127e12e.js"><link rel="prefetch" href="/assets/js/80.3776af5c.js"><link rel="prefetch" href="/assets/js/81.539223a8.js"><link rel="prefetch" href="/assets/js/82.ecd88fed.js"><link rel="prefetch" href="/assets/js/83.8b8f52b1.js"><link rel="prefetch" href="/assets/js/84.56e7b62b.js"><link rel="prefetch" href="/assets/js/85.602daf28.js"><link rel="prefetch" href="/assets/js/86.8983b155.js"><link rel="prefetch" href="/assets/js/87.92548279.js"><link rel="prefetch" href="/assets/js/88.1683e878.js"><link rel="prefetch" href="/assets/js/89.57d67dae.js"><link rel="prefetch" href="/assets/js/9.beeca559.js"><link rel="prefetch" href="/assets/js/90.86c4ccad.js"><link rel="prefetch" href="/assets/js/91.b97628b5.js"><link rel="prefetch" href="/assets/js/92.13b4c677.js"><link rel="prefetch" href="/assets/js/93.91e9ad39.js"><link rel="prefetch" href="/assets/js/94.bfd2d19e.js"><link rel="prefetch" href="/assets/js/95.89405747.js"><link rel="prefetch" href="/assets/js/96.de120589.js"><link rel="prefetch" href="/assets/js/97.72fa8b0f.js"><link rel="prefetch" href="/assets/js/98.debed4eb.js"><link rel="prefetch" href="/assets/js/99.992e6d93.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f0b62ee8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">aiplayer</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/arjs/" class="nav-link">
  AR.js
</a></div><div class="nav-item"><a href="/aframe/" class="nav-link router-link-active">
  aframe
</a></div><div class="nav-item"><a href="/nunustudio/" class="nav-link">
  nunuStudio
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div> <a href="https://github.com/aiplayer/aiplayer.github.io.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    Aiplayer
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/arjs/" class="nav-link">
  AR.js
</a></div><div class="nav-item"><a href="/aframe/" class="nav-link router-link-active">
  aframe
</a></div><div class="nav-item"><a href="/nunustudio/" class="nav-link">
  nunuStudio
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div> <a href="https://github.com/aiplayer/aiplayer.github.io.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    Aiplayer
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>aframe</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/aframe/" class="sidebar-link">AFrame:构建VR应用框架</a></li><li><a href="/aframe/aframe-base.html" class="sidebar-link">AFrame基础</a></li><li><a href="/aframe/aframe-guide.html" class="sidebar-link">开发指南</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/aframe/aframe-api.html" class="sidebar-link">核心API</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>组件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/aframe/aframe-component.html" class="sidebar-link">组件</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>原语</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/aframe/aframe-primitive.html" class="sidebar-link">AFrame基础控件</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="最佳实践"><a href="#最佳实践" class="header-anchor">#</a> 最佳实践</h1> <h2 id="a-frame"><a href="#a-frame" class="header-anchor">#</a> A-Frame</h2> <p>A-Frame的核心结构是实体构件（ECS）。将应用程序代码放置在纯A-Frame组件中并对其进行结构，以实现可重用性、模块性、可组合性、去耦、封装、声明性和可测试性。</p> <p>不要这样做：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;a-scene&gt;
  &lt;a-box&gt;&lt;/a-box&gt;
  &lt;!-- ... --&gt;
&lt;/a-scene&gt;

&lt;script&gt;
  // My JavaScript code here!
  // ... NO!
&lt;/script&gt;

</code></pre></div><p>将代码放在A-Frame组件中，以便在正确的时间执行它们，封装可重用代码，并使用框架，这是使用A-Frame的目的。
如下：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;script&gt;
  AFRAME.registerComponent('code-that-does-this', {
    init: function () {
      // Code here.
      console.log(this.el);
    }
  });

  AFRAME.registerComponent('code-to-attach-to-box', {
    init: function () {
      // Code here.
      console.log(this.el);
    }
  });
&lt;/script&gt;

&lt;a-scene code-that-does-this&gt;
  &lt;a-box code-to-attach-to-box&gt;&lt;/a-box&gt;
  &lt;!-- ... --&gt;
&lt;/a-scene&gt;
</code></pre></div><h2 id="webvr"><a href="#webvr" class="header-anchor">#</a> WebVR</h2> <h2 id="性能"><a href="#性能" class="header-anchor">#</a> 性能</h2> <p>在虚拟现实中，性能至关重要。为了让人们感到舒适，必须保持高帧率。以下是一些有助于提高A帧场景性能的方法：</p> <ul><li><p>使用推荐的硬件规格。</p></li> <li><p>使用stats组件监视各种度量（FPS、顶点和面计数、几何体和材质计数、绘制调用、实体数）。我们希望最大化FPS并最小化其他所有内容。</p></li> <li><p>尽可能限制抽签次数。没有优化的每个几何体、对象、模型通常都是一个绘图调用。经验法则，尽量控制在300以下。[合并][geometrymerger]尽可能将所有静态网格合并在一起。您可以使用[geometry merger][geometrymerger]，然后使用启用顶点颜色的3.js材质。js几何体保留数据，如颜色、每个顶点的uv，这些数据可用于在合并后维护和操作几何体。</p></li> <li><p>利用资产管理系统对资产进行浏览器缓存和预加载。</p></li> <li><p>如果使用模型，请将灯光烘焙到纹理中，而不是依赖于实时照明和阴影。</p></li> <li><p>通常，场景中实体和灯光的数量越少越好。</p></li> <li><p>确保纹理的分辨率大小为2的幂（例如256x256、512x1024），以避免渲染器在运行时必须调整纹理大小。</p></li> <li><p>限制模型上的面和顶点数。</p></li> <li><p>一些进一步的技术包括几何实例、几何合并、细节层次（LOD）。</p></li> <li><p>使用光线投射器或碰撞器时，请选择要针对哪些实体进行光线投射，而不是针对场景中的每个对象进行光线投射。</p></li> <li><p>当添加连续运行的行为时，使用A-Frame组件tick处理程序钩住全局渲染循环。使用诸如AFRAME.utils.throttleTick之类的实用程序来限制运行tick处理程序的次数（如果合适）。</p></li> <li><p>使用背景组件而不是a-sky将纯色定义为场景背景。这样可以防止创建不必要的几何图形。</p></li> <li><p>使用three.js级别（el.object3D.position、el.object3D.rotation、el.object3D.scale、el.object3D.visible）更新position、rotation、scale和visible，以避免.setAttribute上的开销。</p></li> <li><p>如果需要创建、删除和重新创建许多相同类型的实体，请使用池组件预生成和重用实体。这避免了动态创建实体的成本，并减少了垃圾收集。</p></li> <li><p>使用动画组件时，直接设置值的动画，这将跳过.setAttribute并直接设置JS值的动画。例如，将components.material.material.opacity设置为动画，而不是material.opacity。</p></li></ul> <h2 id="gpu纹理预加载"><a href="#gpu纹理预加载" class="header-anchor">#</a> GPU纹理预加载</h2> <p>在无阻塞纹理上传到GPU可用之前，尝试将所有材质和纹理绘制到前面。首次绘制材质和纹理时，浏览器将在上载到GPU时挂起并阻止。我们可以通过调用以下命令手动预加载纹理：</p> <div class="language- extra-class"><pre class="language-text"><code>document.querySelector('a-scene').renderer.setTexture2D(ourTexture, 0);

</code></pre></div><p>我们将尝试在a-Frame中提供一个方便的API来自动执行此操作。</p> <p>例如，这在360°图像库中很明显。如果我们看看浏览器性能工具，第一次切换到新图像时会出现帧下降，但第二次切换回图像时会平滑过渡。</p> <p>尽量重复使用材料和纹理，以少量独特的材料为目标。纹理图谱提供了一种有效的方法来重复利用材料，同时给人以更多样的印象。简单的three.js材质（如MeshLambertMaterial或MeshBasicMaterial）性能更好，通常足以用于低多边形场景。</p> <p>特别是，未照明（基本）材质上的预烘焙照明可以显著提高性能。A-Frame的默认基于PBR的（标准）材质在物理上更逼真，但在简单场景中也更昂贵，而且通常是不必要的。</p> <h2 id="在javascript中最小化垃圾收集"><a href="#在javascript中最小化垃圾收集" class="header-anchor">#</a> 在JavaScript中最小化垃圾收集</h2> <p>尽可能避免创建垃圾和实例化新的JavaScript对象、数组、字符串和函数。在2dweb中，创建大量JavaScript对象并没有什么大不了的，因为垃圾收集器有很多空闲时间可以运行。对于VR，垃圾收集可能会导致在暂停清理内存时丢失帧。为了避免这种情况，我们尽量减少内存的分配，并保留对象以防止它们被垃圾收集。</p> <p>了解有关在Firefox和Chrome性能工具中检测分配和垃圾收集的更多信息。</p> <p>尽量避免像Object.keys（obj）.forEach（function（）{}）；，这样的模式创建新的数组、函数和回调，而不是使用for（obj中的key）。或者对于数组迭代，避免使用.forEach并改用一个简单的for循环。避免使用utils.extend（target，source）而不是utils.clone或.slice等方法不必要地复制对象。</p> <p>如果发出事件，请尝试对事件详细信息重用同一对象：</p> <div class="language- extra-class"><pre class="language-text"><code>AFRAME.registerComponent('foo', {
  init: function () {
    this.someData = [];
    this.evtDetail = {someData: this.someData};
  },

  tick: function (time) {
    this.someData.push(time);
    this.el.emit('bar', this.evtDetail);
  }
});
</code></pre></div><p>上面的所有建议在tick()处理程序中都特别重要，它们将在每一帧上运行。</p> <h3 id="tick处理程序"><a href="#tick处理程序" class="header-anchor">#</a> tick处理程序</h3> <p>在组件标记处理程序中，要节省创建新对象的时间。尝试重用对象。创建私有可重用辅助变量的模式是带有闭包的。下面我们创建一个辅助向量和四元数，并在帧之间重用它们，而不是在每个帧上创建新的。请注意，这些变量不会保持状态，因为它们将在组件的所有实例之间共享。这样做将减少内存使用和垃圾收集：</p> <div class="language- extra-class"><pre class="language-text"><code>AFRAME.registerComponent('foo', {
  tick: function () {
    this.doSomething();
  },

  doSomething: (function () {
    var helperVector = new THREE.Vector3();
    var helperQuaternion = new THREE.Quaternion();

    return function () {
      helperVector.copy(this.el.object3D.position);
      helperQuaternion.copy(this.el.object3D.quaternion);
    };
  })()
});
</code></pre></div><p>另外，如果我们在tick中不断修改组件，请确保传递相同的对象以更新属性。A-Frame将跟踪最新通过的对象，并在随后的额外提速调用中禁用类型检查。下面是一个建议的tick函数示例，该函数修改每个tick上的旋转：</p> <div class="language- extra-class"><pre class="language-text"><code>AFRAME.registerComponent('foo', {
  tick: function () {
    var el = this.el;
    var rotationTmp = this.rotationTmp = this.rotationTmp || {x: 0, y: 0, z: 0};
    var rotation = el.getAttribute('rotation');
    rotationTmp.x = rotation.x + 0.1;
    rotationTmp.y = rotation.y + 0.1;
    rotationTmp.z = rotation.z + 0.1;
    el.setAttribute('rotation', rotationTmp);
  }
});
</code></pre></div><p>同样，在tick函数中要小心，把它们当作关键性能代码，因为它们将每秒运行90次。考虑使用utils.throttlectick以较少的间隔运行代码。</p> <h2 id="vr-设计"><a href="#vr-设计" class="header-anchor">#</a> VR 设计</h2> <p>虚拟现实设计不同于平面体验设计。作为一种新的媒介，有一套新的最佳实践可以遵循，特别是为了保持用户的舒适感和存在感。这篇文章写得很透彻，所以我们遵从这些指南。请注意，虚拟现实交互设计是相当新的，没有什么是绝对的：</p> <p>需要注意的是：</p> <ul><li><p>通常的黄金法则是永远不要意外地从用户手中夺走相机的控制权。</p></li> <li><p>单位（如位置单位）应视为米。这是因为WebVR API返回的姿势是以米为单位的，而米是输入到大多数相机控件中的。以单位为米，达到了预期的规模。</p></li></ul> <p>使用手和控制器。为了获得最佳体验，请将您的应用程序定向到特定的形状因子，而不是一次为所有平台淡化它。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.db1f5619.js" defer></script><script src="/assets/js/2.136755fd.js" defer></script><script src="/assets/js/20.8bce2b97.js" defer></script>
  </body>
</html>
