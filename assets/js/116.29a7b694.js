(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{297:function(t,n,e){"use strict";e.r(n);var a=e(28),i=Object(a.a)({},(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"动画"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#动画"}},[t._v("#")]),t._v(" 动画")]),t._v(" "),e("p",[t._v("动画是每个游戏必不可少的部分，有时很难正确地进行设置，在本教程中，我们将探索nunuStudio中2D和3D动画的多个选项。")]),t._v(" "),e("h2",{attrs:{id:"骨架"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#骨架"}},[t._v("#")]),t._v(" 骨架")]),t._v(" "),e("p",[t._v("骨骼动画是计算机动画中的一种技术，其中将角色分为两个部分：用于绘制角色的表面表示（称为皮肤或网格）和用于动画化（姿势和关键帧）。")]),t._v(" "),e("p",[t._v("虽然此技术通常用于为人类制作动画，或更广泛地用于有机建模，但它只能使动画过程更直观，并且可以使用相同的技术来控制任何物体，门，勺子，建筑物，或星系。当动画对象比例如类人动物角色更笼统时，骨骼集可能不是分层的或互连的，而只是代表对其影响的网格或皮肤部分运动的更高层次的描述。")]),t._v(" "),e("p",[t._v("导入包含附有骨骼的SkinnedMesh的3D模型时，将自动创建该模型，可以在对象面板中检查该3D模型可用的动画，还可以为该模型选择一个初始动画，该动画将自动播放开始。动画波纹管是从.x 3D模型导入的，要在编辑器中尝试该示例，您可以下载项目文件或在Web Editor上打开它。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/nunustudio/animation/run.png",alt:"alt text"}})]),t._v(" "),e("p",[t._v("还可以使用脚本对象播放动画，下面的代码显示了如何使用脚本显示可用动画以及如何播放列表中的第一个可用动画。可以同时播放多个动画，多个动画的结果是所有播放动画的骨骼位置的插值。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('var object = scene.getObjectByName("animated");\n\nfor(var i = 0; i < object.animations.length; i++)\n{\n\tconsole.log(object.animations[i].name);\n}\n\nobject.playAnimation(0);\n')])])]),e("p",[t._v("playAnimation方法接收动画索引作为参数，每当动画播放器播放时，都会在SkinnedMesh对象的action数组中创建一个新的action元素，我们可以使用action对象来控制动画对最终动画的跟踪量，这可以在多个动画之间进行插值。")]),t._v(" "),e("h2",{attrs:{id:"精灵表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#精灵表"}},[t._v("#")]),t._v(" 精灵表")]),t._v(" "),e("p",[t._v("要将新的Spritesheet动画导入nunuStudio，我们可以在资源浏览器中选择import / Texture / Spritesheet纹理。选择图像后，将创建特殊类型的纹理。我们可以通过双击新创建的纹理来打开Spritesheet编辑器。")]),t._v(" "),e("p",[t._v("下面的图像显示了一个10x8动画精灵表的示例，该精灵表实际上包含多个动画，角色向上，向下，向右，向左移动以及几个静态姿势。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/nunustudio/animation/spritesheet.png",alt:"alt text"}})]),t._v(" "),e("p",[t._v("我们必须在Spritesheet编辑器中手动配置其大小，要使用的帧数，开始和结束动画的位置以及播放动画的速度。")]),t._v(" "),e("p",[t._v("下面的示例使用了三种不同的Spritesheet动画，其中之一是使用脚本对象控制的，以根据播放器的运动显示动画的不同部分，该示例还很好地展示了如何将灯光用于2D场景。要在编辑器中尝试此示例，可以下载项目文件或在Web编辑器上将其打开。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/nunustudio/animation/run2.png",alt:"alt text"}})]),t._v(" "),e("p",[t._v("脊柱\nSpine是由Esoteric Software开发的适用于Windows，Mac和Linux的2D动画软件。Spine主要针对从事2D电子游戏的人，但几乎可以用于任何2D动画作品。")]),t._v(" "),e("p",[t._v("对于本教程，不需要Spine，您可以从Esoteric Github页面下载一些示例动画，只有spine的付费版本可以用于导出动画。")]),t._v(" "),e("p",[t._v("通过在资源管理器导入菜单上选择“脊椎动画”，可以将脊椎动画导入nunuStudio中。脊椎对象可以存储多个动画。nunuStudio提供了一个简单的API来选择和播放动画。动画也可以附加皮肤，同一对象可以使用多个皮肤。下面的图像使用两个不同的皮肤显示了相同的Spine对象。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/nunustudio/animation/skin.jpg",alt:"alt text"}}),t._v("\n下面的代码演示了如何使用SpineAnimation对象中可用的setAnimation（track，name，loop）函数以编程方式更改动画。您可以在动画下拉菜单的对象面板中检查可用于动画的动画。还有一个setSkin（name）函数，可用于在运行时更改正在使用的外观")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('var spineboy;\n\nfunction initialize()\n{\n\tspineboy = scene.getObjectByName("spineboy");\n}\n\nfunction update()\n{\n\t...\n\t\n\tif(Keyboard.keyJustPressed(Keyboard.RIGHT) || ...)\n\t{\n\t\tspineboy.setAnimation(0, "run", true);\n\t}\n\tif(Keyboard.keyJustReleased(Keyboard.RIGHT) || ...)\n\t{\n\t\tspineboy.setAnimation(0, "idle", true);\n\t}\n}\n')])])]),e("p",[t._v("下面的示例使用了spine运行时资源库上免费提供的spineboy动画，并演示了如何在平台游戏风格的游戏中使用spineboy动画。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/nunustudio/animation/run3.jpg",alt:"alt text"}})]),t._v(" "),e("p",[t._v("脊柱动画还支持逆向运动学，还可以使用鼠标和键盘导入来更改正常的动画流程，以使其适应当前事件。")]),t._v(" "),e("p",[t._v("码\n制作动画对象的另一种方法是编码，脚本动画有时允许更动态的交互，并且有时比使用视觉工具更容易实现。我们可以轻松地为对象，纹理，材质等的属性设置动画。有创意的几行代码可以轻松地制作出精美的动画。")]),t._v(" "),e("p",[t._v("要在编辑器中尝试此示例，可以下载项目文件或在Web编辑器上将其打开。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/nunustudio/animation/run4.jpg",alt:"alt text"}})])])}),[],!1,null,null,null);n.default=i.exports}}]);