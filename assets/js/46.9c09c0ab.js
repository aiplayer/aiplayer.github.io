(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{349:function(t,a,e){"use strict";e.r(a);var s=e(28),v=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"光源组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#光源组件"}},[t._v("#")]),t._v(" 光源组件")]),t._v(" "),e("p",[t._v("光源组件将实体定义为光源。光线会影响所有未使用指定阴影模型的材料shader: flat。请注意，灯光在计算上非常昂贵，因此我们应限制场景中的灯光数量。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-entity light="color: #AFA; intensity: 1.5" position="-1 1 0"></a-entity>\n\n')])])]),e("p",[t._v("默认情况下，A帧场景会注入默认照明，环境光和定向光。这些默认灯在DOM中带有data-aframe-default-light属性是可见的 。每当我们添加任何灯光时，A帧都会从场景中删除默认灯光。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('\x3c!-- Default lighting injected by A-Frame. --\x3e\n<a-entity light="type: ambient; color: #BBB"></a-entity>\n<a-entity light="type: directional; color: #FFF; intensity: 0.6" position="-0.5 1 1"></a-entity>\n\n')])])]),e("p",[t._v("要手动禁用默认值而不添加其他指示灯：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-scene light="defaultLightsEnabled: false">\n  \x3c!-- ... --\x3e\n</a-scene>\n\n')])])]),e("h2",{attrs:{id:"特性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特性"}},[t._v("#")]),t._v(" 特性")]),t._v(" "),e("p",[t._v("所有光源类型都支持一些基本属性：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("描述")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("type")]),t._v(" "),e("td",[t._v("ambient，directional，hemisphere，point，spot之一")]),t._v(" "),e("td",[t._v("directional")])]),t._v(" "),e("tr",[e("td",[t._v("color")]),t._v(" "),e("td",[t._v("浅色。")]),t._v(" "),e("td",[t._v("#fff")])]),t._v(" "),e("tr",[e("td",[t._v("intensity")]),t._v(" "),e("td",[t._v("强度轻。")]),t._v(" "),e("td",[t._v("1.0")])])])]),t._v(" "),e("h2",{attrs:{id:"灯光类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#灯光类型"}},[t._v("#")]),t._v(" 灯光类型")]),t._v(" "),e("p",[t._v("不同类型的灯光包括独特的属性。我们将仔细研究每种类型，包括其属性以及何时是正确的选择。")]),t._v(" "),e("h3",{attrs:{id:"环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#环境"}},[t._v("#")]),t._v(" 环境")]),t._v(" "),e("p",[t._v("环境光会全局影响场景中的所有实体。的color和 intensity属性定义环境光。此外，position， rotation，和scale对环境光没有影响。")]),t._v(" "),e("p",[t._v("我们建议使用某种形式的环境光，以使阴影区域不完全为黑色，并模仿间接照明。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-entity light="type: ambient; color: #CCC"></a-entity>\n\n')])])]),e("h3",{attrs:{id:"定向性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#定向性"}},[t._v("#")]),t._v(" 定向性")]),t._v(" "),e("p",[t._v("定向光就像一个无限远的光源，但是从特定的方向（如太阳）发出光芒。因此，绝对位置不会影响实体上的光强度。我们可以使用position组件指定方向。")]),t._v(" "),e("p",[t._v('下面的示例创建一个以45度角从左上角发光的光源。注意，因为只有向量很重要，position="-100 100 0"并且position="-1 1 0"是相同的。')]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-entity light="type: directional; color: #EEE; intensity: 0.5" position="-1 1 0"></a-entity>\n\n')])])]),e("p",[t._v("我们可以通过创建定向对象的子实体来指定定向光的方向及其方向。例如，指向其-Z轴：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-light type="directional" position="0 0 0" rotation="-90 0 0" target="#directionaltarget">\n  <a-entity id="directionaltarget" position="0 0 -1"></a-entity>\n</a-light>\n\n')])])]),e("p",[t._v("定向光是在场景中添加实时阴影的最有效类型。")]),t._v(" "),e("h3",{attrs:{id:"半球"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#半球"}},[t._v("#")]),t._v(" 半球")]),t._v(" "),e("p",[t._v("半球灯就像环境光一样，但是具有两种不同的颜色，一种来自上方（color），另一种来自下方（groundColor）。这对于具有两种不同照明颜色的场景（例如，灰色天空下的草地）很有用。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-entity light="type: hemisphere; color: #33C; groundColor: #3C3; intensity: 2"></a-entity>\n\n')])])]),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("描述")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("color")]),t._v(" "),e("td",[t._v("从上面浅色。")]),t._v(" "),e("td",[t._v("#fff")])]),t._v(" "),e("tr",[e("td",[t._v("groundColor")]),t._v(" "),e("td",[t._v("下方为浅色。")]),t._v(" "),e("td",[t._v("#fff")])])])]),t._v(" "),e("h3",{attrs:{id:"点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#点"}},[t._v("#")]),t._v(" 点")]),t._v(" "),e("p",[t._v("点光源与定向光源不同，它们是全向的，并且会根据其位置和距离影响材质。点灯就像灯泡。灯泡越靠近物体，物体照亮的程度越大。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-entity light="type: point; intensity: 0.75; distance: 50; decay: 2"\n          position="0 10 10"></a-entity>\n\n')])])]),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("描述")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("decay")]),t._v(" "),e("td",[t._v("光线沿光线的距离逐渐变暗。")]),t._v(" "),e("td",[t._v("1.0")])]),t._v(" "),e("tr",[e("td",[t._v("distance")]),t._v(" "),e("td",[t._v("强度变为0的距离。如果distance为0，则点光源不会随距离衰减。")]),t._v(" "),e("td",[t._v("0.0")])])])]),t._v(" "),e("h3",{attrs:{id:"spot"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#spot"}},[t._v("#")]),t._v(" Spot")]),t._v(" "),e("p",[t._v("从意义上说，聚光灯就像点光源，它们会根据材料的位置和距离影响材料，但是聚光灯不是全向的。它们主要向一个方向投射光线，例如 蝙蝠信号。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-entity light="type: spot; angle: 45"></a-entity>\n\n')])])]),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("描述")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("angle")]),t._v(" "),e("td",[t._v("聚光灯从其方向的最大范围（以度为单位）。")]),t._v(" "),e("td",[t._v("60")])]),t._v(" "),e("tr",[e("td",[t._v("decay")]),t._v(" "),e("td",[t._v("光线沿光线的距离逐渐变暗。")]),t._v(" "),e("td",[t._v("1.0")])]),t._v(" "),e("tr",[e("td",[t._v("distance")]),t._v(" "),e("td",[t._v("强度变为0的距离。如果distance为0，则点光源不会随距离衰减。")]),t._v(" "),e("td",[t._v("0.0")])]),t._v(" "),e("tr",[e("td",[t._v("penumbra")]),t._v(" "),e("td",[t._v("由于半影衰减的聚光锥的百分比。")]),t._v(" "),e("td",[t._v("0.0")])]),t._v(" "),e("tr",[e("td",[t._v("target")]),t._v(" "),e("td",[t._v("该点应指向的元素。设置为null可以按方向转换聚光灯，指向它的-Z轴。")]),t._v(" "),e("td",[t._v("null")])])])]),t._v(" "),e("h2",{attrs:{id:"配置阴影"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置阴影"}},[t._v("#")]),t._v(" 配置阴影")]),t._v(" "),e("p",[t._v("A-Frame支持实时阴影渲染。如果配置正确，则对象（移动的或静止的）都会投射阴影，从而增加场景的深度和真实感。由于阴影具有许多属性，因此使用A帧检查器配置阴影非常有帮助")]),t._v(" "),e("p",[t._v("光类型的支持阴影（point，spot，和directional）包括附加属性：")]),t._v(" "),e("p",[t._v("属性\t轻型\t描述\t默认值\n蒙上阴影\t\t此光是否在场景上投射阴影。\t假\nshadowBias\t\t决定曲面是否在阴影中时的偏移深度。此处进行微调（大约+/- 0.0001）可以减少阴影中的伪影。\t0\nshadowCameraBottom\tdirectional\t阴影摄像机视锥台底平面。\t-5\nshadowCameraFar\t\t阴影摄像机视锥的远平面。\t500\nshadowCameraFov\tpoint， spot\t阴影相机的FOV。\t50\nshadowCameraLeft\tdirectional\t阴影摄像机视锥的左平面。\t-5\nshadowCameraNear\t\t阴影摄像机视锥附近的平面。\t0.5\nshadowCameraRight\tdirectional\t阴影摄像机视锥的右平面。\t5\nshadowCameraTop\tdirectional\t阴影照相机平截头体顶面。\t5\nshadowCameraVisible\t\t显示视觉辅助工具，显示阴影摄像机的位置和视锥。这是场景的灯光视图，用于投射阴影。\t假\nshadowMapHeight\t\t阴影贴图的垂直分辨率。较大的阴影贴图以性能为代价显示更多清晰的阴影。\t512\nshadowMapWidth\t\t阴影贴图的水平分辨率。\t512\n添加实时阴影\n注意：实时阴影会增加性能开销。当场景中的对象静止不动时，或者特别是在针对移动设备进行优化时，请注意其他用于逼真的阴影的技术，例如将光和阴影信息烘焙到纹理中，然后再将资产导入A帧。")]),t._v(" "),e("p",[t._v("1.创建至少一个光带castShadow: true。三种灯类型支持阴影（point，spot，和directional）。在这三者中， directional灯光将具有最佳性能。组合环境光（无阴影）和定向光（有阴影）是一个很好的起点。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-scene>\n  <a-entity light="type: ambient; intensity: 0.5;"></a-entity>\n  <a-entity light="type: directional;\n                   castShadow: true;\n                   intensity: 0.4;\n                   shadowCameraVisible: true;"\n            position="-5 3 1.5"></a-entity>\n</a-scene>\n')])])]),e("p",[t._v("在上面的示例中，定向光的强度低于环境光，从而使阴影略微柔和。添加shadowCameraVisible: true 可为调试提供视觉帮助：相机视图外部的对象无法投射或接收阴影。")]),t._v(" "),e("p",[t._v("2.将阴影组件添加到场景中应投射或接收阴影的对象。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-gltf-model src="tree.gltf" shadow="cast: true"></a-gltf-model>\n<a-circle id="ground" radius="10" rotation="-90 0 0" shadow="receive: true"></a-circle>\n\n')])])]),e("p",[t._v("3.调整阴影摄像机的位置和定向光的截锥（shadowCameraTop，， shadowCameraRight…），直到其紧密包裹场景为止。如果平截头体太小，阴影将丢失或被部分修剪。如果平截头体太大，阴影将显得粗糙或像素化。阴影贴图（shadowMapHeight: 512，shadowMapWidth: 512）的大小确定了计算阴影的分辨率，因此在场景周围严格设置阴影摄像机的大小将充分利用此分辨率和设备性能。")]),t._v(" "),e("p",[t._v("4.优化阴影外观。可以在场景的阴影系统上配置影响所有灯光的场景范围选项。")]),t._v(" "),e("p",[t._v("阴影系统属性\n这些全局选项会影响整个场景，并使用shadow 系统在"),e("a-scene",[t._v("根元素上进行设置。")])],1),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-scene shadow="type: pcfsoft">\n  \x3c!-- ... --\x3e\n</a-scene>\n')])])]),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("描述")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("type")]),t._v(" "),e("td",[t._v("定义阴影地图类型（basic，pcf，pcfsoft）具有不同的外观和性能特征。")]),t._v(" "),e("td",[t._v("pcf")])])])])])}),[],!1,null,null,null);a.default=v.exports}}]);