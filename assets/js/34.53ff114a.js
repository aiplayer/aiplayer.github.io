(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{329:function(t,a,e){"use strict";e.r(a);var r=e(28),n=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"相机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#相机"}},[t._v("#")]),t._v(" 相机")]),t._v(" "),e("p",[t._v("摄像机组件定义了用户从哪个角度观看场景。摄像机通常与控件组件配对，该控件组件允许输入设备移动和旋转摄像机。")]),t._v(" "),e("h2",{attrs:{id:"例子"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#例子"}},[t._v("#")]),t._v(" 例子")]),t._v(" "),e("p",[t._v("照相机通常应放置在人眼平均高度（1.6米）处。当用于接收旋转或位置的控件（例如从VR设备）时，此位置将被覆盖。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-entity camera look-controls position="0 1.6 0"></a-entity>\n\n')])])]),e("p",[t._v("相对于场景移动或旋转摄像机时，请使用摄像机装备。这样，摄像机的高度偏移可以通过房间规模的设备进行更新，同时仍然允许跟踪的区域在场景中独立移动。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-entity id="rig" position="25 10 0">\n  <a-entity id="camera" camera look-controls></a-entity>\n</a-entity>\n\n')])])]),e("h2",{attrs:{id:"特性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特性"}},[t._v("#")]),t._v(" 特性")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("描述")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("active")]),t._v(" "),e("td",[t._v("摄像机是否是具有多个摄像机的场景中的活动摄像机。")]),t._v(" "),e("td",[t._v("true")])]),t._v(" "),e("tr",[e("td",[t._v("far")]),t._v(" "),e("td",[t._v("相机平截头体远剪切平面。")]),t._v(" "),e("td",[t._v("10000")])]),t._v(" "),e("tr",[e("td",[t._v("fov")]),t._v(" "),e("td",[t._v("视场（以度为单位）。")]),t._v(" "),e("td",[t._v("80")])]),t._v(" "),e("tr",[e("td",[t._v("near")]),t._v(" "),e("td",[t._v("相机截头台附近的剪切平面。")]),t._v(" "),e("td",[t._v("0.005")])]),t._v(" "),e("tr",[e("td",[t._v("spectator")]),t._v(" "),e("td",[t._v("在VR模式下，是否使用相机在2D显示器上渲染场景的第三人称视角。")]),t._v(" "),e("td",[t._v("false")])]),t._v(" "),e("tr",[e("td",[t._v("zoom")]),t._v(" "),e("td",[t._v("相机的缩放系数。")]),t._v(" "),e("td",[t._v("1")])])])]),t._v(" "),e("h2",{attrs:{id:"默认相机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#默认相机"}},[t._v("#")]),t._v(" 默认相机")]),t._v(" "),e("p",[t._v("如果未指定相机，则A-Frame将注入默认相机：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-entity camera="active: true" look-controls wasd-controls position="0 1.6 0" data-aframe-default-camera></a-entity>\n\n')])])]),e("p",[t._v("如果指定了摄像机（例如我们自己的"),e("a-camera",[t._v("或"),e("a-entity",{attrs:{camera:""}},[t._v("），则不会添加默认摄像机。")])],1)],1),t._v(" "),e("h2",{attrs:{id:"vr行为"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vr行为"}},[t._v("#")]),t._v(" VR行为")]),t._v(" "),e("p",[t._v("退出VR时，相机会将其旋转恢复为 进入VR 之前的旋转。这样一来，当我们退出VR时，对于台式机屏幕，摄像头的旋转将恢复正常。")]),t._v(" "),e("p",[t._v("远，近，视野，缩放属性仅适用于2D和魔术窗口模式。在VR模式下，摄像头参数由WebVR / WebXR API提供，以匹配IPD和耳机FOV。这些是不可配置的。")]),t._v(" "),e("h2",{attrs:{id:"更换活动相机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更换活动相机"}},[t._v("#")]),t._v(" 更换活动相机")]),t._v(" "),e("p",[t._v("当active财产被触发，该组件将通知相机系统改变渲染器当前使用的相机：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("var secondCameraEl = document.querySelector('#second-camera');\nsecondCameraEl.setAttribute('camera', 'active', true);\n")])])]),e("h2",{attrs:{id:"将实体固定到相机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#将实体固定到相机"}},[t._v("#")]),t._v(" 将实体固定到相机")]),t._v(" "),e("p",[t._v("要将实体固定到相机上，无论用户从何处看，它们都可以保留在视图内，您可以将这些实体作为相机的子代附加。用例可能是平视显示器（HUD）。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-entity camera look-controls>\n  <a-entity geometry="primitive: plane; height: 0.2; width: 0.2" position="0 0 -1"\n            material="color: gray; opacity: 0.5"></a-entity>\n</a-entity>\n\n')])])]),e("p",[t._v("请注意，您应谨慎使用HUD，因为它们会在VR中引起刺激和眼睛疲劳。考虑将菜单集成到世界本身的结构中。如果您确实创建了HUD，请确保HUD处于视场的中心，这样用户就不必费力地阅读它。")]),t._v(" "),e("h2",{attrs:{id:"相机的读取位置或旋转"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#相机的读取位置或旋转"}},[t._v("#")]),t._v(" 相机的读取位置或旋转")]),t._v(" "),e("p",[t._v("要主动读取相机的位置或旋转，请使用tick读取该位置或旋转并对其执行操作的组件的处理程序。然后将组件连接到相机。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("AFRAME.registerComponent('rotation-reader', {\n  tick: function () {\n    // `this.el` is the element.\n    // `object3D` is the three.js object.\n\n    // `rotation` is a three.js Euler using radians. `quaternion` also available.\n    console.log(this.el.object3D.rotation);\n\n    // `position` is a three.js Vector3.\n    console.log(this.el.object3D.position);\n  }\n});\n\n// <a-entity camera look-controls rotation-reader>\n\n")])])]),e("h3",{attrs:{id:"读取相机的世界位置或旋转"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#读取相机的世界位置或旋转"}},[t._v("#")]),t._v(" 读取相机的世界位置或旋转")]),t._v(" "),e("p",[t._v("three.js具有在世界空间与对象局部空间中获得位置或旋转（或缩放）的方法。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("AFRAME.registerComponent('rotation-reader', {\n  /**\n   * We use IIFE (immediately-invoked function expression) to only allocate one\n   * vector or euler and not re-create on every tick to save memory.\n   */\n  tick: (function () {\n    var position = new THREE.Vector3();\n    var quaternion = new THREE.Quaternion();\n\n    return function () {\n      this.el.object3D.getWorldPosition(position);\n      this.el.object3D.getWorldQuaternion(quaternion);\n      // position and rotation now contain vector and quaternion in world space.\n    };\n  })\n});\n\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);