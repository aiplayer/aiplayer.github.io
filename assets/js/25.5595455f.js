(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{316:function(e,t,a){"use strict";a.r(t);var s=a(28),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"html和原语"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html和原语"}},[e._v("#")]),e._v(" HTML和原语")]),e._v(" "),a("p",[e._v("本节将介绍A-Frame的基本元素的概念及其与实体组件框架的关系。如果您正在寻找有关使用HTML和原语的指南，请参阅《构建基本场景指南》。")]),e._v(" "),a("h2",{attrs:{id:"html"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html"}},[e._v("#")]),e._v(" HTML")]),e._v(" "),a("p",[e._v("A-Frame基于HTML和DOM的顶部，对自定义元素使用polyfill。HTML是Web的构建块，提供了一种最易访问的计算语言。不需要安装或构建步骤，使用HTML创建只需要HTML文件中的文本，然后在浏览器中打开HTML文件。由于大多数Web是建立在HTML之上的，所以大多数现有的工具和库都使用A-Frame，包括React、Vue.js、Angular、d3.js和jQuery。\n如果你没有太多的HTML经验，没问题！这是相当容易拿起，甚至可能比二维HTML更容易掌握。一旦你掌握了HTML的一般结构或语法（打开标记、属性、关闭标记），你就可以开始了！")]),e._v(" "),a("h2",{attrs:{id:"原语"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原语"}},[e._v("#")]),e._v(" 原语")]),e._v(" "),a("p",[e._v("虽然HTML层看起来很基本，但HTML和DOM只是A-Frame最外层的抽象层。下面，A-Frame是3.js的实体组件框架，以声明方式公开。")]),e._v(" "),a("p",[e._v("A-Frame提供了一些元素，比如称为primitives的"),a("A-box",[e._v("或"),a("A-sky",[e._v("来包装实体组件模式，使其吸引初学者。在文档导航侧边栏的底部，我们可以看到A-Frame提供的所有原语。开发人员也可以创建自己的原语。")])],1)],1),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('<html>\n  <head>\n    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"><\/script>\n  </head>\n  <body>\n    <a-scene>\n      <a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9"></a-box>\n      <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E"></a-sphere>\n      <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder>\n      <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>\n      <a-sky color="#ECECEC"></a-sky>\n    </a-scene>\n  </body>\n</html>\n')])])]),a("h2",{attrs:{id:"在引擎下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在引擎下"}},[e._v("#")]),e._v(" 在引擎下")]),e._v(" "),a("p",[e._v("原语主要为新来者充当便利层（即语法糖）。现在请记住，基本体是"),a("code",[e._v("<a-entity>")]),e._v("s，位于引擎下：")]),e._v(" "),a("p",[e._v("有一个语义名称（例如"),a("code",[e._v("<a-box>")]),e._v("）")]),e._v(" "),a("p",[e._v("具有具有默认值的预设组件包")]),e._v(" "),a("p",[e._v("将HTML属性映射或代理到组件数据")]),e._v(" "),a("p",[e._v("原语在整体上类似于预制体。一些关于实体组件系统模式的文献将它们称为集合。它们将核心实体组件API抽象为：")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("预先组合有用的组件和指定的默认值")])]),e._v(" "),a("li",[a("p",[e._v("充当复杂但常见实体类型（例如"),a("a-sky",[e._v("）的速记")])],1)]),e._v(" "),a("li",[a("p",[e._v("为初学者提供熟悉的界面，因为a-Frame将HTML带入了一个新的方向")])])]),e._v(" "),a("p",[e._v("在引擎盖下，这个"),a("a-box",[e._v("原语：")])],1),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('<a-box color="red" width="3"></a-box>\n')])])]),a("a-box",[e._v("将geometry.primitive属性默认为box。该原语将HTML width属性映射到底层geometry.width属性，并将HTML color属性映射到底层material.color属性。\n"),a("h2",{attrs:{id:"将组件附加到基本体"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将组件附加到基本体"}},[e._v("#")]),e._v(" 将组件附加到基本体")]),e._v(" "),a("p",[e._v("基本体只是在引擎盖下的"),a("a-entity",[e._v("s。这意味着原语与实体具有相同的API，例如定位、旋转、缩放和附加组件。")])],1),e._v(" "),a("p",[e._v("例子")]),e._v(" "),a("p",[e._v("让我们将社区物理组件附加到原语。我们包括Don McCurdy的aframe物理系统的源代码，并通过HTML属性附加物理组件：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('<html>\n  <head>\n    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"><\/script>\n    <script src="https://unpkg.com/aframe-physics-system@1.4.0/dist/aframe-physics-system.min.js"><\/script>\n  </head>\n  <body>\n    <a-scene physics>\n      <a-box position="-1 4 -3" rotation="0 45 0" color="#4CC3D9" dynamic-body></a-box>\n      <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4" static-body></a-plane>\n      <a-sky color="#ECECEC"></a-sky>\n    </a-scene>\n  </body>\n</html>\n')])])]),a("h2",{attrs:{id:"注册一个原语"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注册一个原语"}},[e._v("#")]),e._v(" 注册一个原语")]),e._v(" "),a("p",[e._v("我们可以使用AFRAME.registerPrimitive（名称、定义）注册自己的原语（即注册元素）。名称是字符串，必须包含破折号（即“a-foo”）。definition是定义这些属性的JavaScript对象：")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("属性")]),e._v(" "),a("th",[e._v("描述")]),e._v(" "),a("th",[e._v("例子")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("defaultComponents")]),e._v(" "),a("td",[e._v("对象指定基元的默认组件。键是组件的名称，值是组件的默认数据。")]),e._v(" "),a("td",[e._v("{geometry: {primitive: 'box'}}")])]),e._v(" "),a("tr",[a("td",[e._v("mappings")]),e._v(" "),a("td",[e._v("对象指定HTML属性名和组件属性名之间的映射。每当HTML属性名被更新时，原语将更新相应的组件属性。组件属性使用点语法${componentName}.${propertyName}定义。")]),e._v(" "),a("td",[e._v("{depth: 'geometry.depth', height: 'geometry.height', width: 'geometry.width'}")])])])]),e._v(" "),a("h2",{attrs:{id:"例子"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#例子"}},[e._v("#")]),e._v(" 例子")]),e._v(" "),a("p",[e._v("例如，下面是A-Frame对"),a("A-box",[e._v("原语的注册：")])],1),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("var extendDeep = AFRAME.utils.extendDeep;\n\n// The mesh mixin provides common material properties for creating mesh-based primitives.\n// This makes the material component a default component and maps all the base material properties.\nvar meshMixin = AFRAME.primitives.getMeshMixin();\n\nAFRAME.registerPrimitive('a-box', extendDeep({}, meshMixin, {\n  // Preset default components. These components and component properties will be attached to the entity out-of-the-box.\n  defaultComponents: {\n    geometry: {primitive: 'box'}\n  },\n\n  // Defined mappings from HTML attributes to component properties (using dots as delimiters).\n  // If we set `depth=\"5\"` in HTML, then the primitive will automatically set `geometry=\"depth: 5\"`.\n  mappings: {\n    depth: 'geometry.depth',\n    height: 'geometry.height',\n    width: 'geometry.width'\n  }\n}));\n")])])]),a("p",[e._v("例如，Don McCurdy的aframe extras包包含了一个"),a("a-ocean",[e._v("原语，该原语包装了他的海洋组件。以下是"),a("a-ocean",[e._v("的定义。")])],1)],1),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("AFRAME.registerPrimitive('a-ocean', {\n  // Attaches the `ocean` component by default.\n  // Defaults the ocean to be parallel to the ground.\n  defaultComponents: {\n    ocean: {},\n    rotation: {x: -90, y: 0, z: 0}\n  },\n\n  // Maps HTML attributes to the `ocean` component's properties.\n  mappings: {\n    width: 'ocean.width',\n    depth: 'ocean.depth',\n    density: 'ocean.density',\n    color: 'ocean.color',\n    opacity: 'ocean.opacity'\n  }\n});\n\n")])])]),a("p",[e._v("注册了"),a("a-ocean",[e._v("原语后，我们就可以使用一行传统的HTML创建海洋：")])],1),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('<a-ocean color="aqua" depth="100" width="100"></a-ocean>\n\n')])])])])],1)}),[],!1,null,null,null);t.default=n.exports}}]);