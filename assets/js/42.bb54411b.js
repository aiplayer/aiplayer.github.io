(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{343:function(t,a,e){"use strict";e.r(a);var r=e(28),v=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"gltf模型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gltf模型"}},[t._v("#")]),t._v(" gltf模型")]),t._v(" "),e("p",[t._v("glTF（GL传输格式）是Khronos的一个开放项目，为3D资产提供了一种通用且可扩展的格式，该格式既高效又可与现代Web技术高度互操作。")]),t._v(" "),e("p",[t._v("该gltf-model组件使用glTF（.gltf或.glb）文件加载3D模型。")]),t._v(" "),e("p",[t._v("请注意，glTF是一个相当新的规范，并且采用率还在不断增长。在three.js glTF加载程序上的工作和转换器仍处于活动状态。")]),t._v(" "),e("p",[t._v("注意： A-Frame支持glTF 2.0。对于使用旧版glTF格式的模型，请gltf-model-legacy从donmccurdy / aframe-extras使用。")]),t._v(" "),e("h2",{attrs:{id:"为什么要使用gltf？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为什么要使用gltf？"}},[t._v("#")]),t._v(" 为什么要使用glTF？")]),t._v(" "),e("p",[t._v("与仅支持顶点，法线，纹理坐标和基本材质的较旧OBJ格式相比，glTF提供了一组更强大的功能。除上述所有功能外，glTF还提供：")]),t._v(" "),e("ul",[e("li",[t._v("层次对象")]),t._v(" "),e("li",[t._v("场景信息（光源，摄像机）")]),t._v(" "),e("li",[t._v("骨骼结构和动画")]),t._v(" "),e("li",[t._v("更坚固的材质和着色器")])]),t._v(" "),e("p",[t._v("对于没有动画的简单模型，OBJ仍然是常见且可靠的选择。")]),t._v(" "),e("p",[t._v("与COLLADA或FBX相比，支持的功能非常相似。但是，由于glTF专注于提供“传输格式”而不是编辑器格式，因此它与Web技术更具互操作性。以此类推，.PSD（Adobe Photoshop）格式对于编辑2D图像很有帮助，但是图像会转换为.JPG以在网络上使用。同样，glTF是传输3D资产同时呈现相同结果的一种更简单的方法。")]),t._v(" "),e("p",[t._v("简而言之，期望glTF模型与A-Frame一起使用比其他格式更可靠。")]),t._v(" "),e("h2",{attrs:{id:"例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#例"}},[t._v("#")]),t._v(" 例")]),t._v(" "),e("p",[t._v("通过指向src为glTF文件指定的资产来加载glTF模型。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-scene>\n  <a-assets>\n    <a-asset-item id="tree" src="/path/to/tree.gltf"></a-asset-item>\n  </a-assets>\n\n  <a-entity gltf-model="#tree"></a-entity>\n</a-scene>\n\n')])])]),e("h2",{attrs:{id:"值"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#值"}},[t._v("#")]),t._v(" 值")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("selector")]),t._v(" "),e("td",[t._v("选择"),e("a-asset-item")],1)]),t._v(" "),e("tr",[e("td",[t._v("string")]),t._v(" "),e("td",[t._v("url()-glTF文件的封闭路径")])])])]),t._v(" "),e("h2",{attrs:{id:"事件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[t._v("#")]),t._v(" 事件")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("活动名称")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("model-loaded")]),t._v(" "),e("td",[t._v("glTF模型已加载到场景中。")])]),t._v(" "),e("tr",[e("td",[t._v("model-error")]),t._v(" "),e("td",[t._v("无法加载glTF模型。")])])])]),t._v(" "),e("h2",{attrs:{id:"内联加载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内联加载"}},[t._v("#")]),t._v(" 内联加载")]),t._v(" "),e("p",[t._v("或者，通过直接在中指定路径来加载glTF模型 url()。但是，场景在渲染之前不会等待资源加载。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-entity gltf-model="url(/path/to/tree.gltf)"></a-entity>\n\n')])])]),e("h2",{attrs:{id:"使用动画"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用动画"}},[t._v("#")]),t._v(" 使用动画")]),t._v(" "),e("p",[t._v("如果要使用glTF模型中的动画，则可以使用aframe-extras中的animation-mixer组件。默认情况下，所有动画都循环播放。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-entity gltf-model="#monster" animation-mixer></a-entity>\n\n')])])]),e("h2",{attrs:{id:"使用draco进行几何压缩"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用draco进行几何压缩"}},[t._v("#")]),t._v(" 使用Draco进行几何压缩")]),t._v(" "),e("p",[t._v("glTF模型中的几何可以使用Draco库进行压缩。对于主要包含几何图形，具有简单的无纹理材料或顶点颜色的模型，压缩通常可以将文件大小减少90–95％。当模型包含其他大数据（例如Draco不会影响的纹理或动画）时，文件大小的节省将变得不那么重要。")]),t._v(" "),e("p",[t._v("任何压缩形式的折衷都将是解码时间。压缩的模型需要较少的时间来下载和使用较少的带宽，但是只有在将其解压缩后才能呈现。为避免在VR中丢帧，请延迟体验的开始，直到下载并解压缩模型为止。")]),t._v(" "),e("p",[t._v("要将Draco压缩应用于现有的glTF模型，请使用 glTF-Pipeline。您还需要将Draco解码器库与场景一起托管，并按以下说明配置场景属性。")]),t._v(" "),e("p",[t._v("场景属性\n当使用通过Draco压缩的glTF模型时，您必须在场景中托管Draco解码器库并配置解码器的路径：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-scene gltf-model="dracoDecoderPath: path/to/decoder/;">\n  <a-entity gltf-model="url(pony.glb)"></a-entity>\n</a-scene>\n')])])]),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("描述")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("dracoDecoderPath")]),t._v(" "),e("td",[t._v("Draco解码器库的路径。")]),t._v(" "),e("td",[t._v("''")])])])]),t._v(" "),e("p",[t._v("解码器文件夹必须包含三个文件：")]),t._v(" "),e("ul",[e("li",[t._v("draco_decoder.js — Emscripten编译的解码器，与任何现代浏览器兼容。")]),t._v(" "),e("li",[t._v("draco_decoder.wasm — WebAssembly解码器，与较新的浏览器和设备兼容。")]),t._v(" "),e("li",[t._v("draco_wasm_wrapper.js — WASM解码器的JavaScript包装器。")])]),t._v(" "),e("p",[t._v("所有文件都可从three.js存储库中的 examples / js / libs / draco / gltf下获得。该gltf-model组件将自动选择使用WASM还是JavaScript解码器，因此两者都应包括在内。")]),t._v(" "),e("h2",{attrs:{id:"更多资源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更多资源"}},[t._v("#")]),t._v(" 更多资源")]),t._v(" "),e("p",[t._v("可以免费在Sketchfab上免费下载超过100,000个glTF模型，并提供各种导出器和转换器转换器：")]),t._v(" "),e("ul",[e("li",[t._v("blender 2.80+")]),t._v(" "),e("li",[t._v("OBJ→glTF")]),t._v(" "),e("li",[t._v("FBX→glTF")]),t._v(" "),e("li",[t._v("COLLADA→glTF")])])])}),[],!1,null,null,null);a.default=v.exports}}]);