(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{380:function(t,v,a){"use strict";a.r(v);var _=a(28),e=Object(_.a)({},(function(){var t=this,v=t.$createElement,a=t._self._c||v;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"文本组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文本组件"}},[t._v("#")]),t._v(" 文本组件")]),t._v(" "),a("p",[t._v("文本组件呈现带符号的距离字段（SDF）字体文本。")]),t._v(" "),a("h2",{attrs:{id:"介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),a("p",[t._v("请注意，以3D呈现文本非常困难。在2D Web开发中，文本是最基本的东西，因为浏览器的渲染器和布局引擎可以处理所有内容。在3D环境中，我们没有这些奢侈品。还有几种其他方法可以在A-Frame中呈现文本，包括：")]),t._v(" "),a("h3",{attrs:{id:"_3d文字几何"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3d文字几何"}},[t._v("#")]),t._v(" 3D文字几何")]),t._v(" "),a("p",[t._v("HTML材质（DOM到画布到纹理）")]),t._v(" "),a("h3",{attrs:{id:"图像纹理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#图像纹理"}},[t._v("#")]),t._v(" 图像纹理")]),t._v(" "),a("p",[t._v("默认情况下，由于其相对较好的性能和清晰度，我们选择将基于SDF的文本作为核心组件。该组件使用 mattdesl的three-bmfont-text库。标准文本组件具有很长的血统，最初是社区组件，经过多次分叉和改进后才进入A-Frame！")]),t._v(" "),a("h2",{attrs:{id:"例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#例"}},[t._v("#")]),t._v(" 例")]),t._v(" "),a("p",[t._v("这是文本的基本示例，仅用很少的其他配置来定义内容。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<a-entity text="value: Hello World;"></a-entity>\n')])])]),a("p",[t._v("查看更多示例以查看路线，锚点，基线，缩放和自动调整大小的配置。")]),t._v(" "),a("ul",[a("li",[t._v("文字范例（程式码）")]),t._v(" "),a("li",[t._v("文字锚（代码）")]),t._v(" "),a("li",[t._v("文本方案（代码）")]),t._v(" "),a("li",[t._v("文字大小（代码）")])]),t._v(" "),a("p",[t._v("打开这些示例场景中的任何一个，单击"),a("ctrl",[t._v(" + "),a("alt",[t._v(" + i以打开“检查器”，并使用所有可能的值进行播放以立即查看效果！")])],1)],1),t._v(" "),a("p",[t._v("检查文字")]),t._v(" "),a("h2",{attrs:{id:"特性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特性"}},[t._v("#")]),t._v(" 特性")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("默认值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("对齐")]),t._v(" "),a("td",[t._v("多行文字对齐（左，中，右）。")]),t._v(" "),a("td",[t._v("剩下")])]),t._v(" "),a("tr",[a("td",[t._v("alphaTest")]),t._v(" "),a("td",[t._v("如果alpha小于此值，则丢弃文本像素。")]),t._v(" "),a("td",[t._v("0.5")])]),t._v(" "),a("tr",[a("td",[t._v("锚")]),t._v(" "),a("td",[t._v("水平定位（左，中，右，对齐）。")]),t._v(" "),a("td",[t._v("中央")])]),t._v(" "),a("tr",[a("td",[t._v("基线")]),t._v(" "),a("td",[t._v("垂直定位（顶部，中心，底部）。")]),t._v(" "),a("td",[t._v("中央")])]),t._v(" "),a("tr",[a("td",[t._v("颜色")]),t._v(" "),a("td",[t._v("文字颜色。")]),t._v(" "),a("td",[t._v("白色")])]),t._v(" "),a("tr",[a("td",[t._v("字形")]),t._v(" "),a("td",[t._v("用于呈现文本的字体，可以是A-Frame的一种普通字体的名称，也可以是字体文件的URL\t默认")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("fontImage")]),t._v(" "),a("td",[t._v("字体图像渲染文本的纹理路径。默认为font，扩展名为的名称.png。不需要指定是否使用普通字体。")]),t._v(" "),a("td",[t._v("从字体名称派生")])]),t._v(" "),a("tr",[a("td",[t._v("高度")]),t._v(" "),a("td",[t._v("文本块的高度。")]),t._v(" "),a("td",[t._v("由文字大小得出")])]),t._v(" "),a("tr",[a("td",[t._v("字母间距")]),t._v(" "),a("td",[t._v("字母间距（以像素为单位）。")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("lineHeight")]),t._v(" "),a("td",[t._v("行高（以像素为单位）。")]),t._v(" "),a("td",[t._v("从字体文件派生")])]),t._v(" "),a("tr",[a("td",[t._v("不透明")]),t._v(" "),a("td",[t._v("不透明度，范围为0到1，其中0表示完全透明，而1表示完全不透明。")]),t._v(" "),a("td",[t._v("1.0")])]),t._v(" "),a("tr",[a("td",[t._v("着色器")]),t._v(" "),a("td",[t._v("用于渲染文本的着色器。")]),t._v(" "),a("td",[t._v("自卫队")])]),t._v(" "),a("tr",[a("td",[t._v("侧")]),t._v(" "),a("td",[t._v("要渲染的一面。（前，后，双）")]),t._v(" "),a("td",[t._v("面前")])]),t._v(" "),a("tr",[a("td",[t._v("tabSize")]),t._v(" "),a("td",[t._v("制表符大小（以空格为单位）。")]),t._v(" "),a("td",[t._v("4")])]),t._v(" "),a("tr",[a("td",[t._v("透明")]),t._v(" "),a("td",[t._v("文字是否透明。")]),t._v(" "),a("td",[t._v("真正")])]),t._v(" "),a("tr",[a("td",[t._v("值")]),t._v(" "),a("td",[t._v("文本的实际内容。换行和标签与支持\\n和\\t。")]),t._v(" "),a("td",[t._v("''")])]),t._v(" "),a("tr",[a("td",[t._v("空白")]),t._v(" "),a("td",[t._v("应该如何处理空格（即常规，前置，nowrap）。阅读有关空白的更多信息。")]),t._v(" "),a("td",[t._v("正常")])]),t._v(" "),a("tr",[a("td",[t._v("宽度")]),t._v(" "),a("td",[t._v("宽度（以米为单位）。")]),t._v(" "),a("td",[t._v("从几何派生（如果存在）")])]),t._v(" "),a("tr",[a("td",[t._v("wrapCount")]),t._v(" "),a("td",[t._v("换行之前的字符数（或多或少）。")]),t._v(" "),a("td",[t._v("40")])]),t._v(" "),a("tr",[a("td",[t._v("wrapPixels")]),t._v(" "),a("td",[t._v("换行之前的像素数。")]),t._v(" "),a("td",[t._v("从wrapCount派生")])]),t._v(" "),a("tr",[a("td",[t._v("x偏移")]),t._v(" "),a("td",[t._v("X偏移量适用于添加填充。")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("z偏移")]),t._v(" "),a("td",[t._v("如果将几何用作背景，则Z偏移可避免Z争斗。")]),t._v(" "),a("td",[t._v("0.001")])])])]),t._v(" "),a("p",[t._v("该实现基于mattdesl的three-bmfont-text。 阅读有关文本属性的更多信息。")]),t._v(" "),a("h2",{attrs:{id:"事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[t._v("#")]),t._v(" 事件")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("活动名称")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("文字字体集")]),t._v(" "),a("td",[t._v("加载字体源时发出")])])])]),t._v(" "),a("h2",{attrs:{id:"字型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#字型"}},[t._v("#")]),t._v(" 字型")]),t._v(" "),a("p",[t._v("尽管过程不像Web字体那么简单，但我们可以指定不同的字体。文本组件默认roboto使用多通道符号距离（MSDF）字体。MSDF有助于保留尖角和边缘。|")]),t._v(" "),a("h3",{attrs:{id:"股票字体"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#股票字体"}},[t._v("#")]),t._v(" 股票字体")]),t._v(" "),a("p",[t._v("从A-Frame的内置字体中选择一种。这些字体将从CDN上加载。如果希望您的应用程序可以更好地脱机工作，请在本地下载这些字体，然后通过URL指向它们。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("MSDF股票字体")]),t._v(" "),a("th",[t._v("网址")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("机械手")]),t._v(" "),a("td",[t._v("https://cdn.aframe.io/fonts/Roboto-msdf.json")])])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("库存SDF字体")]),t._v(" "),a("th",[t._v("网址")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("副翼半粗体")]),t._v(" "),a("td",[t._v("https://cdn.aframe.io/fonts/Aileron-Semibold.fnt")])]),t._v(" "),a("tr",[a("td",[t._v("德贾武")]),t._v(" "),a("td",[t._v("https://cdn.aframe.io/fonts/DejaVu-sdf.fnt")])]),t._v(" "),a("tr",[a("td",[t._v("exo2bold")]),t._v(" "),a("td",[t._v("https://cdn.aframe.io/fonts/Exo2Bold.fnt")])]),t._v(" "),a("tr",[a("td",[t._v("exo2semibold")]),t._v(" "),a("td",[t._v("https://cdn.aframe.io/fonts/Exo2SemiBold.fnt")])]),t._v(" "),a("tr",[a("td",[t._v("凯尔森山")]),t._v(" "),a("td",[t._v("https://cdn.aframe.io/fonts/KelsonSans.fnt")])]),t._v(" "),a("tr",[a("td",[t._v("单体")]),t._v(" "),a("td",[t._v("https://cdn.aframe.io/fonts/Monoid.fnt")])]),t._v(" "),a("tr",[a("td",[t._v("mozillavr")]),t._v(" "),a("td",[t._v("https://cdn.aframe.io/fonts/mozillavr.fnt")])]),t._v(" "),a("tr",[a("td",[t._v("源代码")]),t._v(" "),a("td",[t._v("https://cdn.aframe.io/fonts/SourceCodePro.fnt")])])])]),t._v(" "),a("h2",{attrs:{id:"自定义字体"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义字体"}},[t._v("#")]),t._v(" 自定义字体")]),t._v(" "),a("p",[t._v("可以使用font和fontImage属性指定不同的字体。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<a-entity text="font: mozillavr; value: Via stock font name."></a-entity>\n<a-entity text="font: https://cdn.aframe.io/fonts/mozillavr.fnt; value: Via URL."></a-entity>\n<a-entity text="text: Hello World; font: ../fonts/DejaVu-sdf.fnt; fontImage: ../fonts/DejaVu-sdf.png"></a-entity>\n\n')])])]),a("p",[t._v("如果未指定，fontImage将为font的名称，但扩展名替换为.png。例如，如果font路径以结尾mozillavr.fnt，则fontImage纹理将默认为mozillavr.png。")]),t._v(" "),a("h2",{attrs:{id:"生成sdf字体"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生成sdf字体"}},[t._v("#")]),t._v(" 生成SDF字体")]),t._v(" "),a("p",[t._v("在股票字体之上，我们可以使用Hiero（位图字体打包工具）生成SDF字体。请参阅本指南以生成SDF字体。")]),t._v(" "),a("p",[t._v("我们还可以使用基于Web的MSDF工具或在命令行上使用msdfgen或msdf-bmfont生成MSDF字体。用于MSDF字体的工具可能不如SDF替代品成熟。")]),t._v(" "),a("p",[t._v("下面是一个示例，比较了用Hiero生成的字体Arial Black和SDF字体DejaVu：")]),t._v(" "),a("p",[t._v("Arial Black vs.Deja Vu")]),t._v(" "),a("h2",{attrs:{id:"非ascii字符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#非ascii字符"}},[t._v("#")]),t._v(" 非ASCII字符")]),t._v(" "),a("p",[t._v("要使用非ASCII字符，您需要创建自己的自定义字体。最简单的方法是使用基于Web的MSDF工具。选择所需的字符集并生成自己的自定义msdf字体zip文件。")]),t._v(" "),a("p",[t._v("下载自定义msdf字体zip文件后，将其解压缩并重命名*.png为*-msdf.png，然后将png和json文件都放入A-Frame目录。")]),t._v(" "),a("p",[t._v("最后，您应该使用")]),a("meta"),t._v("标记指定HTML中使用的字符集，以免文本乱码。如果您的文本是乱码，则不会呈现。"),a("p"),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<html>\n  <head>\n    <meta charset="UTF-8">\n    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"><\/script>\n  </head>\n  <body>\n    <a-scene>\n      <a-sky color="lightblue"></a-sky>\n      <a-text value="ABCあいうえお日本語" font="custom-msdf.json" font-image="custom-msdf.png" negate="false" scale="2 2 1" position="-2 2 -4"></a-text>\n    </a-scene>\n  </body>\n</html>\n    \n  \n')])])]),a("h2",{attrs:{id:"浆纱"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浆纱"}},[t._v("#")]),t._v(" 浆纱")]),t._v(" "),a("p",[t._v("要更改文本的大小，我们可以：")]),t._v(" "),a("ul",[a("li",[t._v("更改width。")]),t._v(" "),a("li",[t._v("更改wrapCount（在给定宽度内大约适合容纳多少个字符）。")]),t._v(" "),a("li",[t._v("改变wrapPixels。")]),t._v(" "),a("li",[t._v("更改比例分量。")]),t._v(" "),a("li",[t._v("将文本放置得更近或更远。")])]),t._v(" "),a("p",[t._v("可以通过以A帧为单位指定宽度来换行。")]),t._v(" "),a("p",[t._v("如果我们需要进行自定义布局或需要了解文本的边界，则可以使用以下内容来动态地预先计算文本的输出长度：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("totalWidth = data.value.length * (data.width / data.wrapCount)\n")])])]),a("h2",{attrs:{id:"自动缩放"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动缩放"}},[t._v("#")]),t._v(" 自动缩放")]),t._v(" "),a("p",[t._v("当与几何图形组件（例如背景平面）一起使用时，文本组件会引入特殊的行为。请注意，这仅适用于定义宽度和高度（即box，plane）的2D友好几何。可以相对于几何图形缩放，限制或对齐文本，或者可以自动缩放几何图形以适合文本。")]),t._v(" "),a("h2",{attrs:{id:"几何对齐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#几何对齐"}},[t._v("#")]),t._v(" 几何对齐")]),t._v(" "),a("p",[t._v("缩放文字以适合几何\n要使文本组件的width属性自动缩放以匹配几何组件的width，请不要width为文本组件指定a ：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<a-entity\n  geometry="primitive: plane; width: 4; height: auto"\n  material="color: blue"\n  text="value: This text will be 4 units wide.">\n</a-entity>\n  \n')])])]),a("h2",{attrs:{id:"缩放几何以适合文本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缩放几何以适合文本"}},[t._v("#")]),t._v(" 缩放几何以适合文本")]),t._v(" "),a("p",[t._v("要使几何图形随文本自动缩放，请将几何图形部件的width和height属性auto设置为，然后width根据需要设置文本部件的尺寸。在此示例中，飞机的平面width将设置为4个单位，并将其height设置为与文本的实际高度匹配：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<a-entity\n  geometry="primitive: plane; height: auto; width: auto"\n  material="color: blue"\n  text="width: 4; value: This text will be 4 units wide.">\n</a-entity>\n  \n')])])]),a("p",[t._v("请注意，如果geometry未text指定宽度，则text width 属性将默认为1单位（米），geometry width属性也将变为1单位。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<a-entity\n  geometry="primitive: plane"\n  material="color: blue"\n  text="value: 1-wide\\ndefault.">\n</a-entity>\n  \n')])])]),a("h2",{attrs:{id:"局限性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#局限性"}},[t._v("#")]),t._v(" 局限性")]),t._v(" "),a("p",[t._v("文本组件没有利用three-bmfont-text库或其姐妹模块的所有功能 。")]),t._v(" "),a("p",[t._v("位图字体渲染将您限制为字体中包含的字符（Unicode不是）。尽管有很多方法可以解决，但 SDF字体渲染往往会产生平滑的锐利边缘 。")]),t._v(" "),a("p",[t._v("生成的文本不适用于raycaster相交测试。对于光线投射器或光标检测，有必要将几何组件与文本组件一起使用。")])])}),[],!1,null,null,null);v.default=e.exports}}]);